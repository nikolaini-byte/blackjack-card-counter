<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Blackjack Kartenz√§hler ‚Äì Meister Blackjack</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="/static/css/animations.css">
</head>
<body>

<h1 id="headline">
  Blackjack Kartenz√§hler<br />Meister Blackjack
</h1>

<div class="container">
  <div style="text-align:center;">
    <label for="languageSelect">Sprache / Language:</label>
    <select id="languageSelect">
      <option value="de" selected>Deutsch</option>
      <option value="en">English</option>
    </select>
  </div>

  <div id="modeControls" style="text-align:center; margin: 20px 0;">
    <span id="modeDisplay">Modus: Training</span><br/>
    <button id="modeBtn" class="primary">Echtspielmodus starten</button>
  </div>

  <div style="text-align:center; margin-bottom: 10px;">
    Deckanzahl: <input type="number" id="deckInput" min="1" value="3" step="0.25"> <small>(Standard: 3 Decks)</small><br/>
    Z√§hlmethode:
    <select id="methodSelect">
      <option value="hiLo" selected>Hi-Lo</option>
      <option value="ko">KO</option>
      <option value="omega2">Omega II</option>
      <option value="halves">Wong Halves</option>
      <option value="zenCount">Zen Count</option>
    </select>
  </div>

  <div class="cards" id="cardsContainer"></div>

  <div class="display-section">
    <div id="countDisplay">Aktueller Count: 0</div>
    <div id="trueCountDisplay">True Count: 0</div>
    <div id="cardsRemainingDisplay">Karten √ºbrig: 156</div>
    <div id="recommendation">Setze vorsichtig! üôÉ</div>
  </div>

  <div class="advanced-stats" style="margin-top: 20px; padding: 15px; background: rgba(0,0,0,0.2); border-radius: 12px;">
    <h3 style="color: #FFD700; margin-bottom: 10px;">KI-Analyse</h3>
    <div id="aiStats">
      <div class="stat-row">
        <span>Gewinnwahrscheinlichkeit:</span>
        <span id="winProbability">-- %</span>
      </div>
      <div class="stat-row">
        <span>Hohe Karten verbleibend:</span>
        <span id="highCardsProb">-- %</span>
      </div>
      <div class="stat-row">
        <span>Niedrige Karten verbleibend:</span>
        <span id="lowCardsProb">-- %</span>
      </div>
      <div class="stat-row">
        <span>KI-Konfidenz:</span>
        <span id="aiConfidence">-- %</span>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <!-- Eingabe f√ºr Spieler- und Dealerkarten -->
  <div style="max-width: 400px; margin: 0 auto 20px;">
    <div style="margin-bottom: 10px;">
      <label class="inline" for="playerCardInput">Deine Karten (z.B. 10,J,A):</label>
      <input type="text" id="playerCardInput" placeholder="z.B. 10,J,A" autocomplete="off" />
    </div>
    <div style="margin-bottom: 10px;">
      <label class="inline" for="dealerCardInput">Dealer-Karte (z.B. 9):</label>
      <input type="text" id="dealerCardInput" placeholder="z.B. 9" autocomplete="off" maxlength="2" />
    </div>
    <div style="text-align: center;">
      <button id="calcDecisionBtn" class="primary">Spielentscheidung pr√ºfen</button>
    </div>
  </div>

  <div id="decisionDisplay" style="font-size: 1.3em; font-weight: bold;"></div>

  <div style="margin-top: 20px;">
    <label for="importFile" style="cursor: pointer; text-decoration: underline; color: #00d4ff;">
      Import .txt Datei (Kartenliste)
    </label><br/>
    <input type="file" id="importFile" accept=".txt" style="margin-top: 5px;" />
    <button id="importBtn" class="secondary" style="margin-left: 10px;">Importieren</button>
    <div id="importStatus" style="margin-top: 8px; font-size: 0.9em;"></div>
  </div>
</div>

<div class="container">
  <div id="controls">
    <button id="resetBtn" class="primary">Zur√ºcksetzen</button>
    <button id="undoBtn" class="secondary">Letzte Karte zur√ºck</button>
    <button id="exportBtn" class="secondary">Export .txt</button>
  </div>

  <div id="historyDisplay"></div>
</div>

<script src="/static/js/script.js"></script>
  <!-- Gambling Warning Modal -->
  <div id="gamblingWarning" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <h2 id="warningTitle">‚ö†Ô∏è Gambling Warning</h2>
      <p id="warningText">
        Gambling involves risk. This tool is for educational purposes only. 
        Please gamble responsibly and only bet what you can afford to lose. 
        If you or someone you know has a gambling problem, please seek help.
      </p>
      <div class="modal-buttons">
        <button id="acceptWarning" class="modal-button accept">I Understand</button>
        <button id="declineWarning" class="modal-button decline">Leave Site</button>
      </div>
    </div>
  </div>

  <!-- Startup Animation -->
  <div id="startupAnimation" class="startup-animation">
    <div class="logo-animation">‚ô†Ô∏è ‚ô£Ô∏è ‚ô•Ô∏è ‚ô¶Ô∏è</div>
    <div class="logo-animation">Blackjack Pro</div>
    <div class="loading-bar">
      <div class="loading-progress"></div>
    </div>
  </div>

  <script src="/static/js/script.js"></script>
  <script>
    // Show gambling warning on first visit
    document.addEventListener('DOMContentLoaded', function() {
      // Show startup animation
      const startup = document.getElementById('startupAnimation');
      
      // After animation completes, show gambling warning
      setTimeout(() => {
        startup.style.display = 'none';
        
        // Check if user has seen the warning before
        if (!localStorage.getItem('hasSeenWarning')) {
          const modal = document.getElementById('gamblingWarning');
          modal.style.display = 'flex';
          
          // Handle accept button
          document.getElementById('acceptWarning').addEventListener('click', function() {
            modal.style.display = 'none';
            localStorage.setItem('hasSeenWarning', 'true');
            // Start the app
            initializeApp();
          });
          
          // Handle decline button
          document.getElementById('declineWarning').addEventListener('click', function() {
            window.location.href = 'https://www.gamblingtherapy.org/';
          });
        } else {
          // If user has seen warning before, just start the app
          initializeApp();
        }
      }, 2500); // Match this with the animation duration
      
      // Initialize the application
      function initializeApp() {
        // Any app initialization code can go here
        console.log('App initialized');
      }
    });
  </script>
</body>
</html>